spark.master                     spark://spark-master:7077

spark.executor.instances         1
spark.executor.cores             1
spark.executor.memory            3g
spark.executor.memoryOverhead    1g

spark.driver.memory              3g
spark.driver.memoryOverhead      1g

# Iceberg
spark.sql.extensions              org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.local           org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.local.type      hadoop
spark.sql.catalog.local.warehouse /workspace/warehouse

# S3 / MinIO
spark.hadoop.fs.s3a.impl                     org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.path.style.access        true
spark.hadoop.fs.s3a.connection.ssl.enabled   false
spark.hadoop.fs.s3a.endpoint                 http://minio:9000
spark.hadoop.fs.s3a.access.key               ${AWS_ACCESS_KEY_ID}
spark.hadoop.fs.s3a.secret.key               ${AWS_SECRET_ACCESS_KEY}


# S3 / MinIO - raw data
spark.sql.catalog.datalake                         org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.datalake.catalog-impl            org.apache.iceberg.rest.RESTCatalog
spark.sql.catalog.datalake.uri                     http://rest:8181
spark.sql.catalog.datalake.io-impl                 org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.datalake.s3.endpoint             http://minio:9000
spark.sql.catalog.datalake.s3.region               europe-central-1
spark.sql.catalog.datalake.s3.path-style-access    true

# Misc
spark.ui.enabled true
spark.ui.port 4040
